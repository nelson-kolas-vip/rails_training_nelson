<!-- app/views/menus/new.html.erb -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
  body {
    background-color: #f8f9fa;
  }

  /* Main container to manage overall height */
  .form-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 0;
  }

  .form-card {
    border-radius: 1rem;
    box-shadow: 0 10px 20px rgba(0,0,0,0.05);
    transition: transform 0.3s ease-in-out;
  }
  .form-card:hover {
    transform: translateY(-5px);
  }

  .form-header {
    background-color: #343a40;
    color: #fff;
    padding: 1.5rem; /* Adjusted padding */
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
    text-align: center;
  }

  .form-header h2 {
    font-weight: bold;
    margin-bottom: 0;
    font-size: 1.5rem; /* Adjusted font size */
  }

  .form-group-animated {
    animation: fadeIn 0.5s ease-out;
  }

  .form-control, .form-select {
    transition: all 0.2s ease-in-out;
    border-radius: 0.5rem;
  }

  .form-control:focus, .form-select:focus {
    border-color: #86b7fe;
    box-shadow: 0 0 0 0.25rem rgba(13,110,253,.25);
  }

  .btn-submit {
    font-weight: bold;
    padding: 0.5rem 1.5rem; /* Reduced padding for smaller button */
    border-radius: 0.5rem;
    transition: all 0.3s ease-in-out;
    font-size: 1rem; /* Adjusted font size */
  }

  .btn-submit:hover {
    transform: scale(1.05);
  }

  .icon-edit-form {
    color: #17a2b8; /* Bootstrap Info color */
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Specific icon colors for the form */
  .form-label i {
    font-size: 1.25rem; /* Increased icon size */
  }
  .form-label {
    font-size: 1.1rem; /* Increased font size for labels */
  }
  .icon-title { color: #fd7e14; } /* Orange */
  .icon-desc { color: #6f42c1; } /* Purple */
  .icon-price { color: #20c997; } /* Green */
  .icon-cat { color: #e83e8c; }  /* Pink */
  .icon-avail { color: #007bff; } /* Blue */
  .icon-veg-form { color: #28a745; } /* Green for veg */
  .icon-non-veg-form { color: #dc3545; } /* Red for non-veg */

  /* Veg/Non-Veg Radio Button Styling */
  .veg-status-label {
    cursor: pointer;
    border: 1px solid #dee2e6;
    border-radius: 0.5rem;
    padding: 0.5rem 1rem;
    transition: all 0.2s ease-in-out;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }
  .veg-status-label:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  .veg-status-input:checked + .veg-status-label {
    background-color: #e9ecef;
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.25rem rgba(13,110,253,.25);
  }
  .veg-status-input {
    display: none;
  }

  /* Responsive styling to fit form within viewport */
  .card-body {
    padding: 1.5rem !important; /* Adjusted padding for smaller screens */
  }
  .form-card {
    margin: auto; /* Center the card vertically and horizontally */
  }

  /* For larger screens, keep padding generous */
  @media (min-width: 768px) {
    .card-body {
      padding: 3rem !important;
    }
  }
</style>

<div class="form-container">
  <div class="row justify-content-center w-100">
    <div class="col-lg-8">
      <div class="card form-card border-0">
        <div class="form-header">
          <h2><i class="bi bi-plus-circle me-2 icon-edit-form"></i> Add New Menu Item</h2>
        </div>
        <div class="card-body">
         <%= form_with(model: [@restaurant, @menu], local: true) do |f| %>
            <div class="row g-4">
              <div class="col-12 form-group-animated">
                <%= f.label :item_name, class: "form-label fw-bold" do %>
                  <i class="bi bi-egg-fried icon-title me-2"></i> Item Name
                <% end %>
                <%= f.text_field :item_name, class: "form-control form-control-lg", required: true %>
              </div>

              <div class="col-12 form-group-animated">
                <%= f.label :description, class: "form-label fw-bold" do %>
                  <i class="bi bi-card-text icon-desc me-2"></i> Description
                <% end %>
                <%= f.text_area :description, class: "form-control", rows: 4, required: true %>
              </div>
              
              <div class="col-md-6 form-group-animated">
                <%= f.label :price, class: "form-label fw-bold" do %>
                  <i class="bi bi-currency-dollar icon-price me-2"></i> Price
                <% end %>
                <div class="input-group">
                  <span class="input-group-text">$</span>
                  <%= f.number_field :price, step: 0.01, class: "form-control", required: true %>
                </div>
              </div>
              <div class="col-md-6 form-group-animated">
                <%= f.label :category, class: "form-label fw-bold" do %>
                  <i class="bi bi-tag icon-cat me-2"></i> Category
                <% end %>
                <%= f.text_field :category, class: "form-control", required: true %>
              </div>
            

              <div class="col-md-6 form-group-animated">
                <%= f.label :available, class: "form-label fw-bold" do %>
                  <i class="bi bi-patch-check icon-avail me-2"></i> Available
                <% end %>
                <div class="form-check form-switch d-flex align-items-center">
                  <%= f.check_box :available, class: "form-check-input me-2", role: "switch" %>
                  <label class="form-check-label fw-bold mb-0">
                    <span class="text-secondary small">Toggle to set availability</span>
                  </label>
                </div>
              </div>

              <div class="col-md-6 form-group-animated">
                <%= f.label :veg_status, class: "form-label fw-bold" do %>
                  <i class="bi bi-heart icon-cat me-2"></i> Veg/Non-Veg
                <% end %>
                <div class="d-flex gap-3">
                  <div class="form-check">
                    <%= f.radio_button :veg_status, 'veg', id: 'veg_status_veg', class: "veg-status-input" %>
                    <label class="veg-status-label" for="veg_status_veg">
                      <i class="bi bi-circle-fill fs-5 icon-veg-form"></i> Veg
                    </label>
                  </div>
                  <div class="form-check">
                    <%= f.radio_button :veg_status, 'non_veg', id: 'veg_status_non_veg', class: "veg-status-input" %>
                    <label class="veg-status-label" for="veg_status_non_veg">
                      <i class="bi bi-triangle-fill fs-5 icon-non-veg-form"></i> Non-Veg
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <div class="d-grid mt-5">
              <%= f.submit "Create Menu Item", class: "btn btn-success btn-submit" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
