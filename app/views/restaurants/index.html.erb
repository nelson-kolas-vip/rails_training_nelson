<div class="container py-5">
  <h1 class="mb-5 text-center display-5 fw-bold restaurant-title-effect">
    <i class="bi bi-shop-window text-info me-2"></i> <%# Changed icon color to text-info %>
    Explore Restaurants
  </h1>

  <% if @restaurants.blank? %>
    <div class="alert alert-info text-center">
      <i class="bi bi-info-circle-fill me-2"></i>
      No restaurants found.
      <%= link_to "Create one now", new_restaurant_path, class: "text-decoration-underline fw-semibold" %>
    </div>
  <% else %>
    <div class="row g-4">
      <% @restaurants.each do |r| %>
        <div class="col-sm-12 col-md-6 col-lg-4">
          <div class="card h-100 shadow border-0 hover-shadow-sm">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title text-dark mb-3"> <%# Changed restaurant name color to text-dark %>
                <i class="bi bi-shop me-2"></i>
                <%= r.name.presence || "Unnamed Restaurant" %>
              </h5>

              <div class="mb-2 text-muted">
                <i class="bi bi-geo-alt-fill text-danger me-2"></i> <%# Changed icon color to text-info %>
                <strong>Location:</strong>
                <%= r.location.presence || "Not specified" %>
              </div>

              <div class="mb-2 text-muted">
                <i class="bi bi-egg-fried text-warning me-2"></i>
                <strong>Cuisine:</strong>
                <%= r.cuisine_type.presence || "Not specified" %>
              </div>

              <div class="text-secondary mt-auto">
                <i class="bi bi-card-text me-2"></i>
                <%= truncate(r.description.to_s, length: 100) %>
              </div>
            </div>

            <div class="card-footer bg-white border-0 d-flex justify-content-start">
              <div class="btn-group">
                <%# Removed w-45 class and added icons %>
                <%= link_to restaurant_path(r), class: "btn btn-sm btn-outline-info button-hover-effect" do %>
                  <i class="bi bi-eye me-1"></i> View
                <% end %>
                <%= link_to edit_restaurant_path(r), class: "btn btn-sm btn-outline-info button-hover-effect" do %>
                  <i class="bi bi-pencil me-1"></i> Edit
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<%# Custom CSS for hover effect and new effects - ideally, this would be in your application.css or a dedicated stylesheet %>
<style>
    /* Card Hover Effect */
    .hover-shadow-sm {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .hover-shadow-sm:hover {
        transform: translateY(-5px); /* Lifts the card slightly */
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important; /* Larger shadow on hover */
    }

    /* Card Footer Styling */
    .card-footer {
        min-height: 50px; /* Adjust as needed */
        align-items: center; /* Vertically center content in footer */
    }

    /* Button Group Spacing - REMOVED custom margin-right to allow btn-group to handle spacing */
    /* .btn-group .btn {
        margin-right: 5px;
    }
    .btn-group .btn:last-child {
        margin-right: 0;
    } */

    /* Main Title Hover Effect */
    .restaurant-title-effect {
        transition: text-shadow 0.3s ease-in-out;
    }
    .restaurant-title-effect:hover {
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2); /* Subtle text shadow on hover */
    }

    /* Button Hover Effect */
    .button-hover-effect {
        transition: transform 0.2s ease-in-out, background-color 0.2s ease-in-out, color 0.2s ease-in-out;
    }
    .button-hover-effect:hover {
        transform: scale(1.03); /* Slightly scales up the button */
    }
    .btn-outline-primary.button-hover-effect:hover {
        background-color: var(--bs-primary); /* Fills background with primary color */
        color: white !important; /* Changes text color to white */
    }
    .btn-outline-secondary.button-hover-effect:hover {
        background-color: var(--bs-secondary); /* Fills background with secondary color */
        color: white !important; /* Changes text color to white */
    }
</style>
